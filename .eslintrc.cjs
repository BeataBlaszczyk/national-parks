/*

  This file is automatically generated by the sc-vue-cli-plugin-ibrebuild plugin and is

  managed by the IBRS team. All changes to this file will be overwritten when invoking the plugin.

*/

const customESLintRules = require('./custom-eslintrc').rules;

 

module.exports = {

  rules: {
    'linebreak-style': 0,
    'no-console': process.env.NODE_ENV === 'production' ? 'warn' : 'off',
    'no-debugger': process.env.NODE_ENV === 'production' ? 'warn' : 'off',
    /*

      The default setting requires a control to be wrapped in a label and is using the
      id and for attribute combination. However, for some Emerald Web Components this is not
      possible. Hence, we loosen the rule to accept one of two checks to pass.
    */

    'vuejs-accessibility/label-has-for': [
      'error',
      {
        required: {
          some: ['nesting', 'id'],
        },
      },
    ],

    /*
      The slot attribute was deprecated in Vue in favor of v-slot.
      However, for the Emerald Web Components, the slot attribute is still valid and required.
      Hence, the usage of the slot attribute is allowed.
    */
    'vue/no-deprecated-slot-attribute': [
      'off',
    ],
    /*
      The default setting clashes with the HTML and Web Component spec regarding
      self-closing-tags and void elements which might cause problems for the Emerald Web Components.
      More info: https://developer.mozilla.org/en-US/docs/Glossary/Void_element
    */

    'vue/html-self-closing': ['error', {

      html: {

        normal: 'never',

        component: 'any',

      },

    }],

    ...customESLintRules,

  },

  overrides: [

    {

      files: [

        './tests/functional/**/*.js',

      ],

      plugins: [

        'testcafe-community',

      ],

      extends: [

        'plugin:testcafe-community/recommended',

      ],

      rules: {

        'import/no-extraneous-dependencies': [

          'error',

          {

            devDependencies: true,

          },

        ],

      },

    },

    {

      files: [

        './src/**/*.spec.{j,t}s?(x)',

      ],

      rules: {

        'import/order': ['warn'],

      },

      env: {

        jest: true,

      },

    },

    {

      files: [

        '**/__tests__/*.{j,t}s?(x)',

        '**/tests/unit/**/*.spec.{j,t}s?(x)',

      ],

      env: {

        jest: true,

      },

    },

  ],

  root: true,

  env: {

    node: true,

  },

  extends: [

    'plugin:vue/vue3-recommended',

    '@vue/airbnb',

  ],

  parserOptions: {

    parser: '@babel/eslint-parser',

  },

};

 